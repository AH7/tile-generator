---
name: test-tile
label: Generated Test Tile
description: A sample tile generated by tile-generator
icon_file: resources/icon.png
org: test-org                         # Optional
org_quota: 4096                       # Optional
space: test-space                     # Optional
apply_open_security_group: true       # Apply open security group, default: false

properties:
- name: author
  type: string
  label: Author
  value: Tile Ninja

forms:
- name: custom-form-1
  label: Test Tile
  description: Custom Properties for Test Tile
  properties:
  - name: customer_name
    type: string
    label: Full Name
  - name: street_address
    type: string
    label: Street Address
    description: Address to use for junk mail
  - name: city
    type: string
    label: City
  - name: zip_code
    type: string
    label: ZIP+4
    default: '90310'
  - name: country
    type: dropdown_select
    label: Country
    options:
    - name: country_us
      label: US
      default: true
    - name: country_elsewhere
      label: Elsewhere

dynamic_service_plans:
- name: description
  type: string
  configurable: true
  description: The description of this plan
- name: license_key
  type: string
  configurable: true
  description: The license key for this plan
- name: num_seats
  type: integer
  configurable: true
  description: The number of available seats for this license

packages:

- name: app1                          # App with minimal configuration, i.e. all default values
  type: app
  manifest:
    path: resources/app.zip
    command: python app.py            # This is required for python, optional for many other languages
    memory: 256M                      # Override memory, default: 1G

- name: broker1                       # Broker with minimal configuration, i.e. all default values
  type: app-broker
  enable_global_access_to_plans: true
  manifest:
    path: resources/app.zip
    command: python app.py            # This is required for python, optional for many other languages
    memory: 256M                      # Override memory, default: 1G

- name: app2                          # App showing configurable values
  type: app
  manifest:
    path: resources/app.zip
    command: python app.py            # This is required for python, optional for many other languages
    host: app2-hostname               # Override hostname, default: app name
    memory: 256M                      # Override memory, default: 1G
    health_check_type: none           # Turn off health monitoring, default: true
  auto_services: broker1-service      # Auto-provision and bind a service (broker must preceed the app in this file)
  needs_cf_credentials: true          # Pass CF creds to the app, default: false
  configurable_persistence: true      # Users will be allowed to select between MySQL, Mongo or none, default: false

- name: broker2                       # Broker showing additional configurable values
  type: app-broker
  manifest:
    path: resources/app.zip
    command: python app.py            # This is required for python, optional for many other languages
    memory: 256M                      # Override memory, default: 1G
  internal_service_names:
  - service1
  - service2
  dynamic_service_plans:
  - name: string_field
    type: string
    configurable: true
    descrp: A String Field
  - name: int_field
    type: integer
    configurable: true
    descrp: A Integer Field

- name: no-op-buildpack               # A buildpack
  type: buildpack
  buildpack_order: 99                 # 99 (or higher) means go to the end of the list
  files:
  - path: resources/buildpack.zip

- name: app3
  type: docker-app
  image: guidowb/sample-cf-app        # Start command must be specified in the Dockerfile (CMD)
  manifest:
    memory: 256M                      # Override memory, default: 1G

# - name: app4
#   type: docker-bosh
#   docker_images:
#   - guidowb/sample-cf-app
#   cpu: 2
#   memory: 1024
#   ephemeral_disk: 4096
#   persistent_disk: 2048
#   instances: 1
#   manifest: |
#     containers:
#     - name: broker3
#       image: guidowb/sample-cf-app
#       bind_ports:
#       - '8080:8080'
